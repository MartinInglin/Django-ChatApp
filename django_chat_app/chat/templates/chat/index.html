{% extends "base.html" %} {% block header %}

<header class="mdl-layout__header">
  <div class="mdl-layout__header-row">
    {% if request.user.is_authenticated %}

    <span class="mdl-layout-title">Welcome {{request.user}}</span>

    {% else %}

    <span class="mdl-layout-title">Welcome! Please login.</span>

    {% endif %}

    <div class="mdl-layout-spacer"></div>
    <nav class="mdl-navigation mdl-layout--large-screen-only">
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="">Link</a>
      <a class="mdl-navigation__link" href="{% url 'logout' %}">Logout</a>
    </nav>
  </div>
</header>
<div class="mdl-layout__drawer">
  <span class="mdl-layout-title">Chatroom</span>
  <nav class="mdl-navigation">
    <a class="mdl-navigation__link" href="">Link</a>
    <a class="mdl-navigation__link" href="">Link</a>
    <a class="mdl-navigation__link" href="">Link</a>
    <a class="mdl-navigation__link" href="{% url 'logout' %}">Logout</a>
  </nav>
</div>

{% endblock %} {% block content %} {% if request.user.is_authenticated %} {% for message in messages %}
<div>{{ message.author }}: {{ message.text }} <span class="color-gray">{{ message.created_at}}</span></div>
{% endfor %}

<form action="/chat/" method="post">
  {% csrf_token %}
  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" name="textmessage" type="text" id="sample3" />
    <label class="mdl-textfield__label" for="sample3">Text...</label>
  </div>

  <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Send</button>
</form>

{% else %}

<div>
  <h1>Not signed in</h1>
  <p>
    You are not signed in. Please sign in. <br />
    Please click <a href="/login/">here</a>.
  </p>
</div>

{% endif %} {% endblock %}
